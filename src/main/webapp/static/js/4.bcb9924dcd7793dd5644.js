webpackJsonp([4],{"8/c5":function(t,i,o){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=o("3cXf"),n=o.n(e),a=o("4YfN"),l=o.n(a),s=o("9rMa"),f=o("xXv6"),g=o("TrN9"),c=o("4/pB"),r={data:function(){return{currentFile:{id:-1},defaultProp:{children:"reports"},configData:{layout:[],rowHeight:200,isDraggable:!1,isResizable:!1,line:1,bgConfig:{type:"null",imageUrl:"",opacticy:1},titleConfig:{title:{},subTitle:{}}},bgconfig:{},titleConfig:{title:{},subTitle:{}},currentNode:{config:[],id:void 0,folderId:void 0,alias:void 0},linkages:null}},components:{superLayout:f.a,chartsView:c.a},computed:l()({},Object(s.b)(["getBoardId"])),beforeMount:function(){this.getDesign()},mounted:function(){},methods:{getDesign:function(){var t=this;this.$apis.fetchPost(g.a.sideBar.search_layout,{params:{id:this.getBoardId},Vue:this}).then(function(i){i.result&&(t.$set(t.currentFile,"reportType",i.model.reportType),"自定义"==i.model.reportType?t.boardHandler(i):t.$set(t.currentFile,"unzipPath",i.model.unzipPath))})},boardHandler:function(t,i){var o=this;this.configData.layout=JSON.parse(t.model.layoutConfig).layout,this.linkages=t.model.linkages,t.model.datasourceLocationValueDtos.forEach(function(t){var i=o.configData.layout.findIndex(function(i){return i.i===t.reportId});-1!=i&&t.picConfig&&(o.configData.layout[i].config=JSON.parse(t.picConfig.replace(/\$/g,"%")))}),this.configData.layout.forEach(function(t){}),t.model.config?(JSON.parse(t.model.config).bgConfig?this.configData.bgConfig=JSON.parse(t.model.config).bgConfig:this.configData.bgConfig={type:"null",opacticy:1},JSON.parse(t.model.config).titleConfig?this.configData.titleConfig=JSON.parse(t.model.config).titleConfig:this.configData.titleConfig={title:{},subTitle:{}}):(this.$set(i,"config",n()({bgConfig:{type:"null",opacticy:1},titleConfig:{title:{},subTitle:{}}})),this.configData.bgConfig={type:"null",opacticy:1},this.configData.titleConfig={title:{},subTitle:{}})},setBg:function(){return"null"==this.configData.bgConfig.type?"#fff":"bgColor"==this.configData.bgConfig.type?this.configData.bgConfig.color:"url("+this.configData.bgConfig.imageUrl+") no-repeat"},setStyle:function(t){var i="";return this.configData.titleConfig[t].fontsize?i=i+"font-size:"+this.configData.titleConfig[t].fontsize+"px;":i+="font-size:12px",this.configData.titleConfig[t].fontFamily?i=i+"font-family:"+this.configData.titleConfig[t].fontFamily+";":i+="fontFamily:SimHei;",this.configData.titleConfig[t].color?i=i+"color:"+this.configData.titleConfig[t].color+";":i+="color:#000;","left"==this.configData.titleConfig[t].position||"right"==this.configData.titleConfig[t].position?i=this.configData.titleConfig.title.position===this.configData.titleConfig.subTitle.position?i+"text-align:"+this.configData.titleConfig.subTitle.position+";":i+"float:"+this.configData.titleConfig[t].position+";":i+="text-align:center;",this.configData.titleConfig[t].isShow?i+="display:block;":i+="display:none;",i}}},u={render:function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("div",{staticClass:"board-display-body"},["自定义"==t.currentFile.reportType?o("div",{staticStyle:{height:"100%"}},[o("div",{staticClass:"main-body",style:{background:t.setBg(),"background-size":"cover",opacity:t.configData.bgConfig.opacticy?t.configData.bgConfig.opacticy:1}},[o("div",{staticClass:"mai-header clearfix",staticStyle:{"padding-top":"10px"}},[o("div",{staticClass:"main-title",style:t.setStyle("title")},[t._v(t._s(t.configData.titleConfig.title.text?t.configData.titleConfig.title.text:""))]),t._v(" "),o("div",{staticClass:"sub-title",style:t.setStyle("subTitle")},[t._v(t._s(t.configData.titleConfig.subTitle.text?t.configData.titleConfig.subTitle.text:""))])]),t._v(" "),o("super-layout",{ref:"superLayout",attrs:{config:t.configData,isToolbar:!0},scopedSlots:t._u([{key:"default",fn:function(i){var e=i.data;return[e.config?o("charts-view",{attrs:{id:e.i,linkages:t.linkages,config:e.config,configData:t.configData}}):t._e()]}}])})],1)]):t._e(),t._v(" "),"专业模板"==t.currentFile.reportType?o("div",{staticStyle:{height:"100%"}},[o("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.currentFile.unzipPath,frameborder:"0"}})]):t._e()])},staticRenderFns:[]};var d=o("C7Lr")(r,u,!1,function(t){o("L9NX")},null,null);i.default=d.exports},L9NX:function(t,i){}});