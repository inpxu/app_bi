webpackJsonp([7],{"+d1w":function(t,e){},0:function(t,e,a){a("briU"),t.exports=a("NHnr")},"46Yt":function(t,e){},LicG:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("IvJb"),o=a("4YfN"),r=a.n(o),s=a("9rMa"),i={data:function(){return{currentRouter:1}},methods:{selectMenu:function(t){this.currentRouter=t.target.dataset.index,1==this.currentRouter?this.$router.push("/"):2==this.currentRouter?this.$router.push("/layoutCenter"):this.$router.push("/majorBorder")}},computed:r()({},Object(s.b)(["getAccountInfo"]))},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"board-hearder"},[a("div",{staticClass:"board-header-account"},[a("img",{staticClass:"board-header-logo",attrs:{src:t.getAccountInfo.appLogo}}),t._v(" "),a("div",{staticClass:"board-header-info"},[a("h3",[t._v(t._s(t.getAccountInfo.accountName))]),t._v(" "),a("p",[t._v(t._s(t.getAccountInfo.accountEnglist))])])]),t._v(" "),a("div",{staticClass:"board-header-menu",on:{click:function(e){e.stopPropagation(),t.selectMenu(e)}}},[a("div",{staticClass:"menu-item",class:{active:1==t.currentRouter},attrs:{"data-index":"1"}},[t._v(t._s(t.$t("headrder.board")))]),t._v(" "),a("div",{staticClass:"menu-item",class:{active:2==t.currentRouter},attrs:{"data-index":"2"}},[t._v(t._s(t.$t("headrder.layout")))]),t._v(" "),a("div",{staticClass:"menu-item",class:{active:3==t.currentRouter},attrs:{"data-index":"3"}},[t._v(t._s(t.$t("headrder.chart")))])])])},staticRenderFns:[]};var u=a("C7Lr")(i,c,!1,function(t){a("46Yt")},null,null).exports,l={props:["boardApi","accountName","accountEnglist","appLogo"],data:function(){return{currRoute:""}},created:function(){window.localStorage.setItem("boardApi",this.boardApi),this.setAccountInfo({accountName:this.accountName,accountEnglist:this.accountEnglist,appLogo:this.appLogo})},beforeMount:function(){this.$router.push("/"),this.currRoute=this.$route.name},mounted:function(){},methods:r()({},Object(s.c)(["setAccountInfo"])),watch:{$route:function(t,e){this.currRoute=t.name}},components:{boardHearder:u}},d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app"},["chartCenter"!==this.currRoute?e("board-hearder"):this._e(),this._v(" "),e("div",{staticClass:"router-view"},[e("router-view")],1),this._v(" "),e("loading")],1)},staticRenderFns:[]};var p=a("C7Lr")(l,d,!1,function(t){a("X3gY")},null,null).exports,f=a("KGCO");n.default.use(f.a);var m=new f.a({routes:[{path:"/",name:"boardCenter",component:function(t){Promise.all([a.e(0),a.e(2)]).then(function(){var e=[a("dV6S")];t.apply(null,e)}.bind(this)).catch(a.oe)}},{path:"/layoutCenter",name:"layoutCenter",component:function(t){Promise.all([a.e(0),a.e(3)]).then(function(){var e=[a("GO7m")];t.apply(null,e)}.bind(this)).catch(a.oe)}},{path:"/chartCenter",name:"chartCenter",component:function(t){Promise.all([a.e(0),a.e(1)]).then(function(){var e=[a("3y1t")];t.apply(null,e)}.bind(this)).catch(a.oe)}},{path:"/majorBorder",name:"majorBorder",component:function(t){Promise.all([a.e(0),a.e(5)]).then(function(){var e=[a("Tvc1")];t.apply(null,e)}.bind(this)).catch(a.oe)}},{path:"/index",name:"index",component:function(t){Promise.all([a.e(0),a.e(4)]).then(function(){var e=[a("8/c5")];t.apply(null,e)}.bind(this)).catch(a.oe)}}]}),g=a("3cXf"),h=a.n(g),v=a("IHPB"),b=a.n(v),_=a("zsLt"),C=a.n(_),w=a("kfHR"),y=a.n(w),P=a("rVsN"),$=a.n(P),k=a("aozt"),I=a.n(k);I.a.defaults.timeout=72e5,I.a.defaults.headers.post["Content-Type"]="application/x-www=form-urlencoded";var L="",B={fetchGet:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a.params?this.setParams(a.params):{};return new $.a(function(o,r){I.a.get(e.getPocPort()+t,{params:n}).then(function(t){200===t.status?o(t.data):(a.Vue&&a.Vue.$message.error(t.data.message),r())}).catch(function(t){a.Vue&&a.Vue.$message.error("系统异常")})})},fetchQuickSearch:function(t,e){var a=this;return new $.a(function(n,o){I.a.get(a.getPocPort()+t).then(function(t){200===t.status?n(t.data):(e&&e.$message.error(t.data.message),o())}).catch(function(t){e&&e.$message.error("系统异常")})})},fetchPost:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="";return n=a.update?a.params:a.params?this.setParams(a.params):{},new $.a(function(o,r){I.a.post(e.getPocPort()+t,n).then(function(t){200===t.status?o(t.data):(a.Vue&&a.Vue.$message.error(t.data.message),r())}).catch(function(t){a.Vue&&a.Vue.$message.error("系统异常")})})},fetchPostJson:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new $.a(function(n,o){I.a.post(e.getPocPort()+t,a.params).then(function(t){200===t.status?n(t.data):(a.Vue&&a.Vue.$message.error(t.data.message),o())}).catch(function(t){a.Vue&&a.Vue.$message.error("系统异常")})})},setParams:function(t){var e=new URLSearchParams;for(var a in t)null!==t[a]&&void 0!==t[a]&&e.append(a,t[a]);return e},getPocPort:function(){return L||(L=localStorage.getItem("boardApi")),L}},D=a("OtPo"),A={getList:function(t,e){t.commit;var a=e.config.dataConfig.dimension.concat(e.config.dataConfig.numberValue).map(function(t){return t.prop}),n={id:e.config.dataConfig.id,keyls:y()(new C.a([].concat(b()(a))))};e.key&&(n.values=h()(e.key)),e.$apis.fetchPostJson(D.a.getListUrl,{params:n,Vue:e}).then(function(t){var a=null;t.result?(e.$set(e.config,"nowTime",t.model.nowTime),a=t.model.maps.map(function(t){return"string"==typeof t?JSON.parse(t):t})):e.$message({type:"warning",message:t.message});var n=e.$setData.listData(e.config.chart,a||[],e.config.dataConfig.dimension,e.config.dataConfig.numberValue);e.$set(e.config,"data",n),e.$forceUpdate()})}};n.default.use(s.a);var R=new s.a.Store({state:{isloading:!1,isProgress:{show:!1,text:"0%"},accountInfo:{},currRouter:1,configs:null,currNode:null,id:null,boardId:void 0,boardBackground:null},actions:A,mutations:{setLoading:function(t,e){t.isloading=e},setIsProgress:function(t,e){t.isProgress=e},setAccountInfo:function(t,e){t.accountInfo=e},setCurrRouter:function(t,e){t.currRouter=e},setCurrConfigs:function(t,e){t.configs=e},setCurrNode:function(t,e){t.currNode=e},setCurrchartId:function(t,e){t.id=e},setBoardId:function(t,e){t.boardId=e},setCurrentBackground:function(t,e){t.boardBackground=e}},getters:{getIsLoading:function(t){return t.isloading},getIsProgress:function(t){return t.isProgress},getAccountInfo:function(t){return t.accountInfo},getCurrRouter:function(t){return t.currRouter},getCurrConfigs:function(t){return t.configs},getCurrNode:function(t){return t.currNode},getCurrchartId:function(t){return t.id},getBoardId:function(t){return t.boardId},getCurrentBackground:function(t,e){return t.boardBackground}}}),V=(a("qA3v"),a("DVuL")),x=a.n(V),E=(a("LicG"),a("OWW/")),S=a("k0Ir"),N=a.n(S),U=a("qXMZ"),z=a.n(U),O=a("/1yT"),T=a.n(O);n.default.use(E.a);var M={en:r()({},{route:{},navbar:{},login:{},documentation:{},permission:{},guide:{},components:{},table:{},errorLog:{},excel:{},zip:{},theme:{},tagsView:{}},N.a),zh:r()({},{toastBtn:{sure:"确定",cancel:"取消",save:"保存",moveUp:"上移",moveDown:"下移",close:"关闭"},headrder:{layout:"布局中心",board:"看板中心",chart:"专业看板库"},siderBar:{title:"布局库"},layout:{display:{},setting:{title:"布局设置",theFirst:"第",line:"行",column:"列",columnWidth:"列 宽"}},message:{msg1:"已经到最顶层了",msg2:"已经到最底层了"}},z.a),es:r()({},{route:{},navbar:{},login:{},documentation:{},permission:{},guide:{},components:{},table:{},errorLog:{},excel:{},zip:{},theme:{},tagsView:{}},T.a)},H=window.localStorage.getItem("language"),X=new E.a({locale:H||"zh",messages:M}),j={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"poc-toast",attrs:{title:t.config.title,visible:t.config.dialogVisible,"close-on-click-modal":!1,"append-to-body":t.config.appendToBody,width:t.config.width},on:{"update:visible":function(e){t.$set(t.config,"dialogVisible",e)},close:function(e){t.callBack("handleClose")}}},[t._t("default"),t._v(" "),t.config.btnData&&t.config.btnData.length>0?a("div",{staticClass:"btn-group"},[t._l(t.config.btnData,function(e){return["sure"===e?a("button",{staticClass:"dialog-bule",attrs:{size:"mini"},on:{click:function(e){t.callBack("sure")}}},[t._v(t._s(t.$t("toastBtn.sure")))]):"cancel"===e?a("button",{staticClass:"dialog-white",attrs:{size:"mini"},on:{click:function(e){t.callBack("cancel")}}},[t._v(t._s(t.$t("toastBtn.cancel")))]):"close"===e?a("button",{staticClass:"dialog-white",attrs:{size:"mini"},on:{click:function(e){t.callBack("close")}}},[t._v(t._s(t.$t("toastBtn.close")))]):"save"===e?a("button",{staticClass:"dialog-bule",attrs:{size:"mini"},on:{click:function(e){t.callBack("save")}}},[t._v(t._s(t.$t("toastBtn.save")))]):"moveUp"===e?a("button",{staticClass:"dialog-bule",attrs:{size:"mini"},on:{click:function(e){t.callBack("moveUp")}}},[t._v(t._s(t.$t("toastBtn.moveUp")))]):"moveDown"===e?a("button",{staticClass:"dialog-bule",attrs:{size:"mini"},on:{click:function(e){t.callBack("moveDown")}}},[t._v(t._s(t.$t("toastBtn.moveDown")))]):t._e()]})],2):t._e()],2)},staticRenderFns:[]};var Y=a("C7Lr")({props:["config"],methods:{callBack:function(t){this.$emit(t)}}},j,!1,function(t){a("+d1w")},null,null).exports,F={computed:r()({},Object(s.b)(["getIsLoading","getIsProgress"]))},G={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.getIsLoading?a("div",{staticClass:"loader"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.getIsProgress.show,expression:"getIsProgress.show"}],staticClass:"progress"},[t._v(t._s(t.getIsProgress.text))]),t._v(" "),a("div",{staticClass:"dot"}),t._v(" "),a("div",{staticClass:"dot"}),t._v(" "),a("div",{staticClass:"dot"}),t._v(" "),a("div",{staticClass:"dot"}),t._v(" "),a("div",{staticClass:"dot"})]):t._e()},staticRenderFns:[]};var J=a("C7Lr")(F,G,!1,function(t){a("uwMX")},null,null).exports,W={listData(t,e,a,n){let o=null;if(e.length)switch(t){case"table":o=this.setTableData(e,a,n);break;case"card":case"gauge":o=this.setCardData(e,a,n);break;case"pie":case"funnel":o=this.setPieData(e,a,n);break;case"radar":o=this.setRadarData(e,a,n);break;case"line":case"scatter":case"bar":o=this.setLineData(e,a,n);break;case"wordcloud":o=this.setWordcloudData(e,a,n)}return o},setTableData:(t,e,a)=>({columns:Array.from(new Set([...e,...a])).map(t=>({label:t.name,prop:t.prop})),tableData:t}),setCardData:(t,e,a)=>[{name:a[0].name,value:t[0][a[0].prop]}],setPieData(t,e,a){let n=[],o=[];if(e.length)n=Array.from(new Set(t.map(t=>t[e[0].prop]))),o=t.map(t=>({name:t[e[0].prop],value:t[a[0].prop]}));else{let e=[...a];n=Array.from(new Set(e.map(t=>t.name)));for(let a of e)o.push({name:a.name,value:t[0][a.prop]})}return{nameArr:n,valArr:o}},setWordcloudData(t,e,a){let n=[];if(e.length)n=t.map(t=>({name:t[e[0].prop],value:t[a[0].name]}));else{let e=Array.from(new Set([...a]));for(let a of e)n.push({name:a.name,value:t[0][a.prop]})}return n},setLineData(t,e,a){let n=[],o=[],r=[];return n=Array.from(new Set([...a].map(t=>t.name))),o=Array.from(new Set([...t].map(t=>t[e[0].prop]))),[...a].forEach(a=>{let n=[...t].map(t=>({x:t[e[0].prop],value:t[a.prop],name:a.name}));r.push(n)}),{nameArr:n,xArr:o,valArr:r}},setRadarData(t,e,a){let n=[];return[...a].forEach(e=>{n.push({name:e.name,value:[...t].map(t=>t[e.prop])})}),n}};n.default.directive("drag",{bind:function(t){t.style.position="absolute",t.style.cursor="pointer",t.style["z-index"]="10";var e=0,a=0;function n(n){n.preventDefault(),t.style.left=n.clientX-e+"px",t.style.top=n.clientY-a+"px"}t.addEventListener("mousedown",function(o){e=o.clientX-t.offsetLeft,a=o.clientY-t.offsetTop,document.addEventListener("mousemove",n)}),t.addEventListener("mouseup",function(t){document.removeEventListener("mousemove",n)})}}),n.default.directive("number-input",{bind:function(t){t.addEventListener("keyup",function(t){1==this.value.length?this.value=this.value.replace(/[^1-9]/g,""):this.value=this.value.replace(/\D/g,"")}),t.addEventListener("afterpaste",function(t){1==this.value.length?this.value=this.value.replace(/[^1-9]/g,""):this.value=this.value.replace(/\D/g,"")})}}),n.default.config.productionTip=!1,n.default.prototype.$apis=B,n.default.prototype.$setData=W,n.default.use(x.a),n.default.component("boardToast",Y),n.default.component("loading",J),new n.default({el:"#app",router:m,store:R,i18n:X,data:{eventHub:new n.default},components:{App:p}}),m.beforeEach(function(t,e,a){R.commit("setCurrRouter","layoutCenter"===t.name?2:1),a()})},OtPo:function(t,e,a){"use strict";e.a={addUrl:"/app_bi/loc/val/add",updUrl:"/app_bi/loc/val/upd",delUrl:"/app_bi/loc/val/del",getListUrl:"/app_bi/loc/val/getByKey",getHouse:"/app_bi/perm/getHouse",getModel:"/app_bi/perm/getModel",getVersion:"/app_bi/perm/getVersion",getDataList:"/app_bi/perm/get",findSql:"/app_bi/perm/findSql",addOrUpd:"/app_bi/loc/val/addOrUpd"}},X3gY:function(t,e){},uwMX:function(t,e){}},[0]);